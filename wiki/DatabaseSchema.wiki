#summary - Database schema of the user, location, team, and other tables.
#labels Phase-Design,Phase-Requirements

= Database Schema =

== PLAYER ==

|| *Row name* || *Type* || *Notes* ||  
|| player_id || integer, primary key || ||
|| player_email || varchar(200), not null, unique || index ||
|| player_password_hash || char(32), not null ||  ||
|| player_first_name || varchar(200) || ||
|| player_last_name || varchar(200) || || 
|| player_creation_timestamp || timestamp || ||
|| player_avatar_id || integer, foreign key => player_avatar(player_avatar_id) || on delete restrict || 

== TEAM ==
|| *Row name* || *Type* || *Notes* ||
|| team_id || integer, primary key, unique || ||
|| team_name || varchar(200), not null || index ||
|| team_description || char(400) || ||
|| team_home_base || varchar(200) || ||
|| team_leader_id || integer, foreign key => player(player_id), not null || on delete cascade ||
|| team_creation_timestamp || timestamp || ||
|| team_color || varchar(200) || || 
|| team_avatar_id || integer, foreign key => team_avatar(team_avatar_id) || on delete restrict|| 

== LOCATION ==

|| *Row name* || *Type* || *Notes*||  
|| location_id || integer, primary key || ||
|| location_name || varchar(200), not null || part of unique, part of index ||
|| location_latitude || numeric(9,6), not null || part of unique, part of index ||
|| location_longitude || numeric(9,6), not null || part of unique, part of index ||
|| location_street || varchar(200), not null || ||
|| location_city || varchar(200), not null || ||
|| location_state || char(2), not null || state, province, department, etc.||
|| location_zipcode || integer || postal code ||
|| location_phone_number || char(16)|| ||
|| team_owner_id || integer, foreign key team(team_id) || ||

== MEMBERSHIP ==
|| *Row name* || *Type* || *Notes* ||
|| team_id || integer, foreign key => team(team_id), not null || part of primary key, on delete cascade ||
|| player_id || integer, foreign key => player(player_id), not null || part of primary key, on delete cascade ||
|| status || char(10) || || 

== FRIENDSHIP ==
|| *Row name* || *Type* || *Notes* ||
|| first_id || integer, foreign key => player(player_id), not null || part of primary key, on delete cascade ||
|| second_id || integer, foreign key => player(player_id), not null || part of primary key, on delete casecade || 
|| status || char(10) || ||

== VISIT ==
|| visit_id || integer, primary key || ||
|| visit_user_id || integer, foreign key => player(player_id), not null || on delete cascade ||
|| visit_team_id || integer, foreign key => team(team_id), not null || on delete cascade ||
|| visit_location_id  || integer, foreign key => location(location_id), not null || on delete cascade || 
|| visit_timestamp || timestamp || ||

== PLAYER_AVATAR ==
|| player_avatar_id || integer, primayr key || || 
|| player_id || integer, foreign key => player(player_id), not null || on delete cascade || 
|| avatar_bytes || bytea, not null || ||
|| avatar_mime || varchar(20), not null || || 

== TEAM_AVATAR == 
|| team_avatar_id || integer, primary key || ||
|| team_id || integer, foreign key => team(team_id), not null || on delete cascade ||
|| avatar_bytes || bytea, not null || ||
|| avatar_mime || varchar(20), not null || ||